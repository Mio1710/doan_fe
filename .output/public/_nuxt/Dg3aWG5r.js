import{a as d,O as f,i as n}from"./CxV_Dxxn.js";import{P as g,_ as i}from"./DZ_F3gcz.js";function v(e,s){return e?Array.isArray(e)?i.map(i.zip(e,s),([u,o])=>o==="desc"?`-${u}`:u):[s==="desc"?`-${e}`:e]:[]}function q(e,s){const{$api:u}=d(),o=f(["topic",e],()=>{const{sortBy:t,sortType:a}=e.value,p=v(t,a);console.log("params",e.value);const r=new g({includes:[],appends:[],fields:{},filters:{},sorts:p,page:e.value.page,limit:e.value.rowsPerPage,payload:null,...e.value}).query();return console.log("query",r),u.topic.getTopics(r)},{refetchOnWindowFocus:!1,...s}),c=n(()=>{var t;return((t=o.data.value)==null?void 0:t.data)||[]}),l=n(()=>{var t,a;return((a=(t=o.data.value)==null?void 0:t.pagination)==null?void 0:a.total)||0});return{...o,items:c,totalItems:l}}export{q as u};
