import{d as h,r as i,$ as C,a as N,P as b,aN as g,t as d,v as p,x as t,z as l,A as o,M as u,N as B,K as R,X as E,T as U,L as F,y as r,S as m,W as I,B as L,R as P}from"./CroPc9hR.js";import{u as T}from"./CGsF_oT6.js";import{V as $}from"./B2WBtBiK.js";import{V as M,a as S,b as A,c as z}from"./DUb2CVD9.js";import"./DZ_F3gcz.js";import"./40oRFHCv.js";const D={class:"d-flex flex-column flex-grow-1 h-full"},H={key:0},j={class:"d-flex w-full"},G={class:"d-flex items-center"},K=["onClick"],ae=h({__name:"[id]",setup(O){i(!1);const v=i(!1),x=i(null);C({id:null,week:"",description:"",file:null});const{$api:_,$toast:W}=N();b();const V=a=>{_.reportIntern.downloadReportIntern(a.file_key).then(n=>{const e=URL.createObjectURL(new Blob([n])),s=document.createElement("a");s.href=e,s.setAttribute("download",a.file_name),document.body.appendChild(s),s.click()})},c=i([]),k=g().params.id,{items:f,totalItems:q,isLoading:J,refetch:Y}=T(k),w=a=>{x.value=a,v.value=!0};return(a,n)=>(d(),p("div",D,[n[3]||(n[3]=t("div",{class:"text-lg font-bold text-uppercase"},"Báo cáo tiến độ thực tập",-1)),l($,{class:"pa-3 h-full overflow-y-scroll",color:"white",variant:"flat"},{default:o(()=>[u(f)?(d(),p("div",H,[l(M,{modelValue:u(c),"onUpdate:modelValue":n[0]||(n[0]=e=>B(c)?c.value=e:null),multiple:""},{default:o(()=>[(d(!0),p(R,null,E(u(f),(e,s)=>(d(),F(S,{key:s},{default:o(()=>[l(A,null,{default:o(()=>[t("div",j,[t("span",null,"Tuần "+r(e.week),1),l(m),t("div",null,"Nộp lúc: "+r(u(I)(new Date(e==null?void 0:e.created_at),"dd/MM/yyyy HH:mm")),1)])]),_:2},1024),l(z,null,{default:o(()=>[t("div",G,[t("div",null,[n[1]||(n[1]=L(" File báo cáo: ")),t("span",{class:"cursor-pointer underline text-blue-400",onClick:y=>V(e)},r(e.file_name),9,K)]),l(m),l(P,{color:"success",height:"20",icon:"mdi-pencil",size:"small",variant:"plain",onClick:y=>w(e)},null,8,["onClick"])]),t("div",null,[t("div",null,"Mô tả: "+r(e.description),1),n[2]||(n[2]=t("div",null,"Nhận xét của giảng viên:",-1)),t("div",null,r(e.comment),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])])):U("",!0)]),_:1})]))}});export{ae as default};
