import{a0 as ae,aC as le,bT as ne,a3 as oe,aX as ue,am as re,aE as se,i as w,r as y,ah as ie,D as de,o as ce,F as h,e as fe,a5 as ve,aH as me,aI as $,bU as xe,z as o,bV as ge,Q as P,K as B,aj as D,ak as Ve,bW as ye,bX as he,a6 as we,au as T,bY as pe,at as be,bs as Fe,d as Ce,U as ke,J as Pe,g as Se,t as U,v as Ie,A as Re,L as G,M as q,aP as Me}from"./CFiehynL.js";const Be=ae({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...le(),...ne()},"VTextarea"),Te=oe()({name:"VTextarea",directives:{Intersect:ue},inheritAttrs:!1,props:Be(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:r,emit:g,slots:s}=l;const a=re(e,"modelValue"),{isFocused:f,focus:v,blur:V}=se(e),O=w(()=>typeof e.counterValue=="function"?e.counterValue(a.value):(a.value||"").toString().length),j=w(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function X(t,u){var n,i;!e.autofocus||!t||(i=(n=u[0].target)==null?void 0:n.focus)==null||i.call(n)}const _=y(),p=y(),A=ie(""),b=y(),J=w(()=>e.persistentPlaceholder||f.value||e.active);function S(){var t;b.value!==document.activeElement&&((t=b.value)==null||t.focus()),f.value||v()}function K(t){S(),g("click:control",t)}function L(t){g("mousedown:control",t)}function Q(t){t.stopPropagation(),S(),T(()=>{a.value="",pe(e["onClick:clear"],t)})}function W(t){var n;const u=t.target;if(a.value=u.value,(n=e.modelModifiers)!=null&&n.trim){const i=[u.selectionStart,u.selectionEnd];T(()=>{u.selectionStart=i[0],u.selectionEnd=i[1]})}}const m=y(),F=y(+e.rows),I=w(()=>["plain","underlined"].includes(e.variant));de(()=>{e.autoGrow||(F.value=+e.rows)});function x(){e.autoGrow&&T(()=>{if(!m.value||!p.value)return;const t=getComputedStyle(m.value),u=getComputedStyle(p.value.$el),n=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),i=m.value.scrollHeight,C=parseFloat(t.lineHeight),R=Math.max(parseFloat(e.rows)*C+n,parseFloat(u.getPropertyValue("--v-input-control-height"))),M=parseFloat(e.maxRows)*C+n||1/0,c=Fe(i??0,R,M);F.value=Math.floor((c-n)/C),A.value=be(c)})}ce(x),h(a,x),h(()=>e.rows,x),h(()=>e.maxRows,x),h(()=>e.density,x);let d;return h(m,t=>{t?(d=new ResizeObserver(x),d.observe(m.value)):d==null||d.disconnect()}),fe(()=>{d==null||d.disconnect()}),ve(()=>{const t=!!(s.counter||e.counter||e.counterValue),u=!!(t||s.details),[n,i]=me(r),{modelValue:C,...R}=$.filterProps(e),M=xe(e);return o($,P({ref:_,modelValue:a.value,"onUpdate:modelValue":c=>a.value=c,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":I.value},e.class],style:e.style},n,R,{centerAffix:F.value===1&&!I.value,focused:f.value}),{...s,default:c=>{let{id:k,isDisabled:H,isDirty:z,isReadonly:Y,isValid:Z}=c;return o(ge,P({ref:p,style:{"--v-textarea-control-height":A.value},onClick:K,onMousedown:L,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},M,{id:k.value,active:J.value||z.value,centerAffix:F.value===1&&!I.value,dirty:z.value||e.dirty,disabled:H.value,focused:f.value,error:Z.value===!1}),{...s,default:ee=>{let{props:{class:N,...E}}=ee;return o(B,null,[e.prefix&&o("span",{class:"v-text-field__prefix"},[e.prefix]),D(o("textarea",P({ref:b,class:N,value:a.value,onInput:W,autofocus:e.autofocus,readonly:Y.value,disabled:H.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:S,onBlur:V},E,i),null),[[Ve("intersect"),{handler:X},null,{once:!0}]]),e.autoGrow&&D(o("textarea",{class:[N,"v-textarea__sizer"],id:`${E.id}-sizer`,"onUpdate:modelValue":te=>a.value=te,ref:m,readonly:!0,"aria-hidden":"true"},null),[[ye,a.value]]),e.suffix&&o("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?c=>{var k;return o(B,null,[(k=s.details)==null?void 0:k.call(s,c),t&&o(B,null,[o("span",null,null),o(he,{active:e.persistentCounter||f.value,value:O.value,max:j.value,disabled:e.disabled},s.counter)])])}:void 0})}),we({},_,p,b)}}),Ue={class:"mb-4"},Ae=Ce({__name:"AppTextField",props:ke({name:{type:String,default:"text"},rules:{type:String,default:""},type:{type:String,required:!1},placeholder:{type:String,default:""},label:{type:String,default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const l=e,r=Pe(e,"modelValue"),g=w(()=>l.rules.includes("required"));return(s,a)=>{const f=Se("VeeField");return U(),Ie("div",Ue,[o(f,{modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=v=>r.value=v),name:l.name,rules:l.rules},{default:Re(({errorMessage:v})=>[l.type==="textarea"?(U(),G(Te,{key:0,modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=V=>r.value=V),"error-messages":v,label:`${l.label}${q(g)?"*":""}`,name:l.name,placeholder:l.placeholder,type:l.type},null,8,["modelValue","error-messages","label","name","placeholder","type"])):(U(),G(Me,P({key:1},s.$attrs,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=V=>r.value=V),"error-messages":v,label:`${l.label}${q(g)?"*":""}`,name:l.name,placeholder:l.placeholder,type:l.type}),null,16,["modelValue","error-messages","label","name","placeholder","type"]))]),_:1},8,["modelValue","name","rules"])])}}});export{Ae as _};
