import{a as p,O as f,i as o}from"./0wqRa8uz.js";import{P as g,_ as i}from"./DZ_F3gcz.js";function v(e,r){return e?Array.isArray(e)?i.map(i.zip(e,r),([s,n])=>n==="desc"?`-${s}`:s):[r==="desc"?`-${e}`:e]:[]}function q(e,r){const{$api:s}=p(),n=f(["intern",e],()=>{const{sortBy:t,sortType:u}=e.value,d=v(t,u);console.log("params",e.value);const a=new g({includes:[],appends:[],fields:{},filters:{},sorts:d,page:e.value.page,limit:e.value.rowsPerPage,payload:null,...e.value}).query();return console.log("query",a),s.intern.getInterns(a)},{refetchOnWindowFocus:!1,...r}),l=o(()=>{var t;return((t=n.data.value)==null?void 0:t.data)||[]}),c=o(()=>{var t,u;return((u=(t=n.data.value)==null?void 0:t.pagination)==null?void 0:u.total)||0});return{...n,items:l,totalItems:c}}export{q as u};
