import{d as C,r,$ as g,a as h,P as N,aN as b,t as d,v as p,x as t,z as n,A as a,M as u,N as B,K as T,X as R,T as E,L as U,y as i,S as v,W as F,B as L,R as P}from"./CxV_Dxxn.js";import{u as $}from"./CVfRQy-e.js";import{V as M}from"./D9m4qXwV.js";import{V as S,a as A,b as I,c as z}from"./BmJwhGEz.js";import"./DZ_F3gcz.js";import"./40oRFHCv.js";const D={class:"d-flex flex-column flex-grow-1 h-full"},H={key:0},j={class:"d-flex w-full"},G={class:"d-flex items-center"},K=["onClick"],se=C({__name:"[id]",setup(O){r(!1);const x=r(!1),_=r(null);g({id:null,week:"",description:"",file:null});const{$api:V,$toast:W}=h();N();const k=s=>{V.reportTopic.downloadReportTopic(s.file_key).then(l=>{const e=URL.createObjectURL(new Blob([l])),o=document.createElement("a");o.href=e,o.setAttribute("download",s.file_name),document.body.appendChild(o),o.click()})},c=r([]),f=b().params.id;console.log("studentId",f);const{items:m,totalItems:q,isLoading:J,refetch:Y}=$(f),w=s=>{_.value=s,x.value=!0};return(s,l)=>(d(),p("div",D,[l[3]||(l[3]=t("div",{class:"text-lg font-bold text-uppercase"},"Báo cáo tiến độ đề tài đồ án",-1)),n(M,{class:"pa-3 h-full overflow-y-scroll",color:"white",variant:"flat"},{default:a(()=>[u(m)?(d(),p("div",H,[n(S,{modelValue:u(c),"onUpdate:modelValue":l[0]||(l[0]=e=>B(c)?c.value=e:null),multiple:""},{default:a(()=>[(d(!0),p(T,null,R(u(m),(e,o)=>(d(),U(A,{key:o},{default:a(()=>[n(I,null,{default:a(()=>[t("div",j,[t("span",null,"Tuần "+i(e.week),1),n(v),t("div",null,"Nộp lúc: "+i(u(F)(new Date(e==null?void 0:e.created_at),"dd/MM/yyyy HH:mm")),1)])]),_:2},1024),n(z,null,{default:a(()=>[t("div",G,[t("div",null,[l[1]||(l[1]=L(" File báo cáo: ")),t("span",{class:"cursor-pointer underline text-blue-400",onClick:y=>k(e)},i(e.file_name),9,K)]),n(v),n(P,{color:"success",height:"20",icon:"mdi-pencil",size:"small",variant:"plain",onClick:y=>w(e)},null,8,["onClick"])]),t("div",null,[t("div",null,"Mô tả: "+i(e.description),1),l[2]||(l[2]=t("div",null,"Nhận xét của giảng viên:",-1)),t("div",null,i(e.comment),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])])):E("",!0)]),_:1})]))}});export{se as default};
